<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>Персонаж</title>
  </head>
  <body>
    <header class="header-container">
      <div class="header-title" id="header-title"></div>
      <div class="navigation">
        <nav>
          <a href="index.html"
            ><img src="./assets/png/home.png" alt="На главную"
          /></a>
          <a href="hero.html">
            <img
              src="./assets/png/hero.png"
              alt=" Ваш персонаж"
          /></a>
          <a href="character.html">
            <img
              src="./assets/png/settings.png"
              alt=" Изменить настройки персонажа"
          /></a>
        </nav>
      </div>
    </header>
    <main class="main-container">
      <div class="character-container">
        <div>
          <button type="button" class="button-submit" id="fight">В бой!</button>
        </div>
        <div>
          <div class="block_fight" id="block_fight">
            <div class="character-card">
              <div class="character-name">
                <input
                  class="character-name-input"
                  type="text"
                  id="character-name"
                  readonly
                />
              </div>
              <div class="character-edit">
                <img class="character-image" src="" alt="character-image">
              </div>
             <div><progress class = "progress" value="0" max="150" id="progress-character"></progress></div>
            </div>
            <div class = "container-fight">
              <div class="fight_message">Выберите один вид атаки и два вида защиты</div>
              <div class="container-radio">
                <div class="radio-group" id="radio-group">
                  <label for="radio1"> Тыдыщ! <input type="radio" name="option" id="radio1"/></label>
                  <label for="radio2"> Кусь<input type="radio" name="option" id="radio2"/> </label>
                  <label for="radio3"> Хрясь<input type="radio" name="option" id="radio3"/></label>
                  <label for="radio4"> Тьфу<input type="radio" name="option" id="radio4"/></label>
                  <label for="radio5"> Два Куся<input type="radio" name="option" id="radio5"/></label>
                </div>
                <div class="checkbox-group" id="checkbox-group">
                  <label for="checkbox1"><input type="checkbox" id="checkbox1"/> Тыдыщ!</label>
                  <label for="checkbox2"><input type="checkbox" id="checkbox2"/> Кусь</label>
                  <label for="checkbox3"><input type="checkbox" id="checkbox3"/> Хрясь</label>
                  <label for="checkbox4"><input type="checkbox" id="checkbox4"/> Тьфу</label>
                  <label for="checkbox5"><input type="checkbox" id="checkbox5"/> Два Куся</label>
                </div>
              </div>
              <div><button class="button-submit" id="attack">Удар!</button></div>  
            </div>

            <div class="character-card">
              <div class="character-name-enemy">
                <input 
                  class="character-name-input"
                  type="text"
                  id="character-name-enemy"
                  readonly
                />
              </div>
              <div class="character-edit">
                <img class="character-image-enemy" src="" alt="character-image-enemy">
              </div>
              <div><progress class = "progress" value="0" max="150" id="progress-enemy"></progress></div>
            </div>
          </div>
          <div class="fight_description" id="fight_description">Здесь будет описание боя</div>
        </div>
      </div>
    </main>
    <script>
      const avatar = [
          { id: 1, src: "./assets/img/fenek.jpg", alt: "Fenek" },
          { id: 2, src: "./assets/img/berkut.jpg", alt: "Berkut" },
          { id: 3, src: "./assets/img/cat.jpg", alt: "Cat" },
          { id: 4, src: "./assets/img/varan.jpg", alt: "Varan" },
          { id: 5, src: "./assets/img/peregusna.jpg", alt: "Peregusna" },
        ];
      const enemy_avatar = [
          { id: 1, src: "./assets/img/cobra.jpg", alt: "Cobra" },
          { id: 2, src: "./assets/img/viper.jpg", alt: "Viper" },
          { id: 3, src: "./assets/img/scorpion.jpg", alt: "Scorpion" },
        ];        


     document.addEventListener("DOMContentLoaded", () => {
        const name = localStorage.getItem("Player/name");
        const nameEnemy = localStorage.getItem("Enemy/name");
        const characterName = document.getElementById("character-name");
        const characterNameEnemy = document.getElementById("character-name-enemy");

        const player_wins = {
            name: "",
            id: 0,
            attack: 0,
            wins: 0,
            loses: 0,
          };
          const enemy_wins = {
            name: "",
            avatar: 0,
            wins: 0,
            loses: 0,
          };
          const attack = {

          }
          const defence = {

          }

        document.getElementById('fight').addEventListener('click', function() {
          this.style.display = 'none';
          document.getElementById('block_fight').style.display = 'flex';
          document.getElementById('fight_description').style.display = 'flex';
        });

        if (name) {
          document.getElementById("character-name").value = name;
        }

        if (nameEnemy) {
          document.getElementById("character-name-enemy").value = nameEnemy;
        }

        let avatarData;
        const storedAvatar = localStorage.getItem("Player/avatar");
        if (storedAvatar && storedAvatar !== "undefined") {
            try {
                avatarData = JSON.parse(storedAvatar);
              } catch (e) {
                  avatarData = { avatar: avatar[0] }; 
              }
            } else {
                avatarData = { avatar: avatar[0] }; 
            }

          let avatarDataEnemy;
          const storedAvatarEnemy = localStorage.getItem("Enemy/avatar");
        if (storedAvatarEnemy && storedAvatarEnemy !== "undefined") {
            try {
              avatarDataEnemy = JSON.parse(storedAvatarEnemy);
              } catch (e) {
                avatarDataEnemy = { enemy_avatar: enemy_avatar[0] }; 
              }
            } else {
              avatarDataEnemy = { enemy_avatar: enemy_avatar[0] }; 
            }
            
        document.querySelector(".character-image").src = avatarData.src;
        document.querySelector(".character-image").alt = avatarData.alt;

        document.querySelector(".character-image-enemy").src = avatarDataEnemy.src;
        document.querySelector(".character-image-enemy").alt = avatarDataEnemy.alt;

      <!--Прогрессбар для персонажа-->

        let progressCharacter = document.getElementById('progress-character');
        let currentValue = 0;

        function character_progress() {
          
        }
      });
    </script>
  </body>
</html>
